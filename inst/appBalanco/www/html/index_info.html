<!DOCTYPE html>
<html lang="pt-BR" >
<head>
	<title>Informações</title>
	<link href='https://fonts.googleapis.com/css?family=Droid+Serif|Open+Sans:400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/148866/reset.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
	<link rel="stylesheet" href="../css/informacao.css">
</head>
<!-- partial:index.partial.html -->
<body>
	<button class="button" onclick="location.href='index.html'" style="position: absolute; right: 0;">Voltar</button>
	<header>	
		<h1>Informa&ccedil;&otilde;es Gerais</h1>
	</header>
	<br>
	<h2>Desenvolvimento</h2>
	<div class="boxed">
		<h3>Linguagem e principais bibliotecas</h3>
		<p>&bull; Ferramenta desenvolvida em linguagem <a href = "https://www.r-project.org/">R</a> versão 3.6.</p>
		<p>&bull; Interface desenvolvida com <a href = "https://shiny.rstudio.com/">Shiny</a>. Este é um pacote R que facilita a criação de aplicações Web diretamente do R e utiliza CSS, widgets, html e ações JavaScript para maior flexibilidade.</p>
		<p>&bull; A ferramente cria uma estrutura de dados usando SQLite onde todos as informa&ccedil;&otilde;es s&atilde;o armazenadas. Mais informa&ccedil;&otilde;es em: <a href="index_db.html">sobre a base</a>.</p>
	</div>
	<br>
	<h2>Dados de entrada</h2>
	<div class="boxed">
		<h3>Caso NEWAVE</h3>
		<p>&bull; Possuir ou executar um caso que tenha gerado <font face = "Courier New">nwlistop</font> de <font face = "Courier New">ghtot e armfp </font>(04 e 20), de acordo com o tipo de simulação desejado (shist/sssint). Garantir o formato indicado pois os arquivos com sufixo "m" s&atilde;o de submercado e s&atilde;o necess&aacute;rios os de REEs.</p>
		<p>&bull; A pasta onde se localiza o caso deve conter o arquivo relat&oacute;rio de sa&iacute;da da simula&ccedil;&atilde;o completa (<font face = "Courier New">relat, replaca ou pmo.dat</font>). Esses arquivos n&atilde;o podem ser da simulasimula&ccedil;&atilde;o final.</p>
		<p>&bull; O arquivo <font face = "Courier New">exph</font> n&atilde;o pode conter TABs ??????????</p> 
		<p>&bull; Mercado com todos os subsistemas (mesmo que com valor zerado)</p>
		<p>&bull; A pasta onde se localiza o caso deve conter o arquivo <font face = "Courier New">dadosOFR.xlsx</font> que possui as contribui&ccedil;&otilde;es das renov&aacute;veis n&atilde;o despachadas para a ponta. O arquivo possui quatro abas: FatorPonta, RelacaoIndicativas, SazonalidadeIndicativas e TiposOutrasRenov&aacute;veis:</p>
		<p style="margin-left: 20px">&bull; TiposOutrasRenov&aacute;veis: Nessa aba ficam as indica&ccedil;ões do tipo de contribui&ccedil;&atilde;o. A disponibilidade de potência pode ser considerada como sendo o valor m&eacute;io mensal da sua gera&ccedil;&atilde;o (tipo 2), ou uma contribui&ccedil;&atilde;o mensal informada em fun&ccedil;&atilde;o da pot&ecirc;ncia instalada (tipo 1). Para os casos do tipo 1, a tabela <font face = "Courier New">BPO_A19_FATOR_PONTA_OFR</font> deve ser preenchida. Esta informa&ccedil;&atilde;o deve ser inclu&iacute;da na aba <b>FatorPonta</b>. Para os casos do tipo 2, as informa&ccedil;&otilde;es ficam no arquivo excel GeraPeq.</p>
		<p style="margin-left: 20px">&bull; FatorPonta: Nessa aba ficam os fatores de contribui&ccedil;&atilde;o mensal informados em fun&ccedil;&atilde;o da pot&ecirc;ncia instalada da fonte (tipo 1).<p>
		<p style="margin-left: 20px">&bull; RelacaoIndicativas: Nessa aba ficam os dados de "de para" referente ao cabe&ccedil;alho do arquivo saidaExpansao.txt, oriundo do MDI.<p>
		<p style="margin-left: 20px">&bull; SazonalidadeIndicativas: Nessa aba ficam os dados de sazonalidade das fontes indicativas da expans&atilde;o.<p>
		<p>&bull; GeraPeq: <p>
		<p>&bull; saidaExpansao.txt <p>
	</div>
	<br>
	<h2>Implementação</h2>
	<div class="boxed">
		<h3>funcoesLeituraAMAArquivos.R</h3>
		<p>Arquivo que contempla todas as funções de entrada de dados do projeto.</p>
		<p>Funções:</p>
		<p>&bull; <font face = "Courier New">pegaMedicoesBaseAMA</font>: função para criar data frames com as informações de análise e de longo prazo de uma torre a partir da base de dados AMA.</p>
		<p>&bull; <font face = "Courier New">pegaMedicoesAMA</font>: função para criar data frames com as informações de análise e de longo prazo de uma torre AMA a partir dos arquivos texto com as medições dos parques.</p>
		<p>&bull; <font face = "Courier New">criaDFErrosInstrumento</font>: função interna para criar data frame de erros por instrumento. Utilizada em <font face = "Courier New">pegaMedicoesBaseAMA</font> e <font face = "Courier New">pegaMedicoesAMA</font>.</p>
		<p>&bull; <font face = "Courier New">substituiErrosPorNA</font>: função interna para substituir erros por NA. Utilizada em <font face = "Courier New">pegaMedicoesBaseAMA</font> e <font face = "Courier New">pegaMedicoesAMA</font>.</p>
		<br>
		
		<h3>funcoesVerificaErrosQuantil.R</h3>
		<p>Arquivo que contempla todas as funções de verificação de medições suspeitas.</p>
		<p>Funções:</p>
		<p>&bull; <font face = "Courier New">exibeQuantil</font>: função interna criada para exibir o gráfico com o intervalo de confiança de uma medição a partir de um histórico e exibir o gráfico do intervalo de confiança definido pelo histórico aplicado à medição em análise.</p>
		<p>&bull; <font face = "Courier New">exibeMedicoes</font>: função interna criada para exibir os gráficos comparando a medição do instrumento em análise com o instrumento similar das estações de comparação e, se houver, com os outros instrumentos similares da própria estação.</p>
		<p>&bull; <font face = "Courier New">exibeErrosMedicoes</font>: função interna criada para exibir os gráficos de uma medição em análise e indicar (com pontos pretos) os valores suspeitos por comparação entre estações e também os valores suspeitos considerando a lógica com todas as estações e instrumentos analisados.</p>
		<p>&bull; <font face = "Courier New">localizaErrosInstrumento</font>: função interna criada para localizar os valores de medições suspeitos a partir de um histórico de medições com as estações de comparação e, se houver, com os instrumentos equivalentes da própria estação. São indicados como suspeitos os valores fora do intervalo de confiança encontrado na comparação do histórico. O intervalo de confiança dessa função é formado por duas retas.</p>
		<p>&bull; <font face = "Courier New">localizaErrosInstrumentoP</font>: função interna criada para localizar os valores de medições suspeitos a partir de um histórico de medições com as estações de comparação e, se houver, com os instrumentos equivalentes da própria estação. São indicados como suspeitos os valores fora do intervalo de confiança encontrado na comparação do histórico. A diferença dessa função para a anterior é que o intervalo de confiança é formado por duas curvas (descritas por polinômios) e não por duas retas.</p>
		<p>&bull; <font face = "Courier New">localizaErrosInstrumentoPAux</font>: função interna criada para localizar os valores de medições suspeitos a partir de um histórico de medições com as estações de comparação e, se houver, com os instrumentos equivalentes da própria estação. Utiliza o auxílio de medição de outros instrumentos para filtrar os dados que devem ser identificados como medição suspeita. Por exemplo, pode-se definir que só são válidos de avaliação as medições de direção com velocidade média acima de 3 m/s. São indicados como suspeitos os valores fora do intervalo de confiança encontrado na comparação do histórico. Essa função também define o intervalo de confiança pela área entre duas curvas (descritas por polinômios).</p>
		<p>&bull; <font face = "Courier New">verificaDefasagem</font>: função interna para verificar se a torre é suspeita de estar defasada em relação à outra torre. Utiliza a função <font face = "Courier New">ccf</font> da biblioteca <font face = "Courier New">stats</font> para efetuar correlações e verificar se há mudança no lag atual de maior correlação quando comparado ao histórico. A função exige um mínimo de 50 valores válidos nos dados de validação em cada torre e 200 dados válidos em cada histórico (exigência da função <font face = "Courier New">ccf</font>).</p>
		<p>&bull; <font face = "Courier New">verificaTorre</font>: função que utiliza todas as funções internas de leitura, exibição e verificação para identificar, seguindo a metodologia definida, as medições suspeitas. Essa função exige como mínimo de dados de entrada a estação AMA a ser validada, o período de análise (idealmente uma quinzena), a localização da base SQLite e a tabela com todos os parâmetros das regressões quantílicas, tolerâncias e estações de comparação, e o DSN da base de dados AMA para que sejam lidas as medições das estações de análise e as de comparação. A função retorna uma sequência de mensagens informando as medições suspeitas, caso haja medição suspeita de erro.</p>
		<br>
		
		<h3>app.R</h3>
		<p>Arquivo com código R usando shiny que cria a interface de uso da ferramenta que verifica medições suspeitas em todos os instrumentos de uma estação AMA.<br>Consulte <a href="index_uso.html">Detalhes e explicações de utilização para usuarios</a> para mais informações sobre a interface.</p>
	</div>
</body>
</html>