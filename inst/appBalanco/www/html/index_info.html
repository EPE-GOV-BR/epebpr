<!DOCTYPE html>
<html lang="pt-BR" >
<head>
	<title>Informações</title>
	<link href='https://fonts.googleapis.com/css?family=Droid+Serif|Open+Sans:400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/148866/reset.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
	<link rel="stylesheet" href="../css/informacao.css">
</head>
<!-- partial:index.partial.html -->
<body>
	<button class="button" onclick="location.href='index.html'" style="position: absolute; right: 0;">Voltar</button>
	<header>	
		<h1>Informações Gerais</h1>
	</header>
	<br>
	<h2>Desenvolvimento</h2>
	<div class="boxed">
		<h3>Linguagem e principais bibliotecas</h3>
		<p>&bull; Ferramenta desenvolvida em linguagem <a href = "https://www.r-project.org/">R</a> versão 3.6.</p>
		<p>&bull; Principal pacote utilizado foi o <a href ="https://cran.r-project.org/web/packages/quantreg/index.html" >quantreg</a> que contém métodos de estimativa e inferência para modelos de quantis condicionais.</p>
		<p>&bull; Interface desenvolvida com <a href = "https://shiny.rstudio.com/">Shiny</a>. Este é um pacote R que facilita a criação de aplicações Web diretamente do R e utiliza CSS, widgets, html e ações JavaScript para maior flexibilidade.</p>
		<p>&bull; Foi criado um repositório dentro do serviço de controle de versões Azure da EPE com o nome <font face = "Courier New">AMA_IdentificadorErros</font>, dentro projeto <font face = "Courier New">SGE-Modelos</font>.</p>
	</div>
	<br>
	<h2>Versão validada para uso</h2>
	<div class="boxed">
		<h3>Local</h3>
		<p>&bull; X:\AMA\6 PROJETOS EM ANDAMENTO\AMA_IdentificadorErros</p>
	</div>
	<br>
	<h2>Implementação</h2>
	<div class="boxed">
		<h3>funcoesLeituraAMAArquivos.R</h3>
		<p>Arquivo que contempla todas as funções de entrada de dados do projeto.</p>
		<p>Funções:</p>
		<p>&bull; <font face = "Courier New">pegaMedicoesBaseAMA</font>: função para criar data frames com as informações de análise e de longo prazo de uma torre a partir da base de dados AMA.</p>
		<p>&bull; <font face = "Courier New">pegaMedicoesAMA</font>: função para criar data frames com as informações de análise e de longo prazo de uma torre AMA a partir dos arquivos texto com as medições dos parques.</p>
		<p>&bull; <font face = "Courier New">criaDFErrosInstrumento</font>: função interna para criar data frame de erros por instrumento. Utilizada em <font face = "Courier New">pegaMedicoesBaseAMA</font> e <font face = "Courier New">pegaMedicoesAMA</font>.</p>
		<p>&bull; <font face = "Courier New">substituiErrosPorNA</font>: função interna para substituir erros por NA. Utilizada em <font face = "Courier New">pegaMedicoesBaseAMA</font> e <font face = "Courier New">pegaMedicoesAMA</font>.</p>
		<br>
		
		<h3>funcoesVerificaErrosQuantil.R</h3>
		<p>Arquivo que contempla todas as funções de verificação de medições suspeitas.</p>
		<p>Funções:</p>
		<p>&bull; <font face = "Courier New">exibeQuantil</font>: função interna criada para exibir o gráfico com o intervalo de confiança de uma medição a partir de um histórico e exibir o gráfico do intervalo de confiança definido pelo histórico aplicado à medição em análise.</p>
		<p>&bull; <font face = "Courier New">exibeMedicoes</font>: função interna criada para exibir os gráficos comparando a medição do instrumento em análise com o instrumento similar das estações de comparação e, se houver, com os outros instrumentos similares da própria estação.</p>
		<p>&bull; <font face = "Courier New">exibeErrosMedicoes</font>: função interna criada para exibir os gráficos de uma medição em análise e indicar (com pontos pretos) os valores suspeitos por comparação entre estações e também os valores suspeitos considerando a lógica com todas as estações e instrumentos analisados.</p>
		<p>&bull; <font face = "Courier New">localizaErrosInstrumento</font>: função interna criada para localizar os valores de medições suspeitos a partir de um histórico de medições com as estações de comparação e, se houver, com os instrumentos equivalentes da própria estação. São indicados como suspeitos os valores fora do intervalo de confiança encontrado na comparação do histórico. O intervalo de confiança dessa função é formado por duas retas.</p>
		<p>&bull; <font face = "Courier New">localizaErrosInstrumentoP</font>: função interna criada para localizar os valores de medições suspeitos a partir de um histórico de medições com as estações de comparação e, se houver, com os instrumentos equivalentes da própria estação. São indicados como suspeitos os valores fora do intervalo de confiança encontrado na comparação do histórico. A diferença dessa função para a anterior é que o intervalo de confiança é formado por duas curvas (descritas por polinômios) e não por duas retas.</p>
		<p>&bull; <font face = "Courier New">localizaErrosInstrumentoPAux</font>: função interna criada para localizar os valores de medições suspeitos a partir de um histórico de medições com as estações de comparação e, se houver, com os instrumentos equivalentes da própria estação. Utiliza o auxílio de medição de outros instrumentos para filtrar os dados que devem ser identificados como medição suspeita. Por exemplo, pode-se definir que só são válidos de avaliação as medições de direção com velocidade média acima de 3 m/s. São indicados como suspeitos os valores fora do intervalo de confiança encontrado na comparação do histórico. Essa função também define o intervalo de confiança pela área entre duas curvas (descritas por polinômios).</p>
		<p>&bull; <font face = "Courier New">verificaDefasagem</font>: função interna para verificar se a torre é suspeita de estar defasada em relação à outra torre. Utiliza a função <font face = "Courier New">ccf</font> da biblioteca <font face = "Courier New">stats</font> para efetuar correlações e verificar se há mudança no lag atual de maior correlação quando comparado ao histórico. A função exige um mínimo de 50 valores válidos nos dados de validação em cada torre e 200 dados válidos em cada histórico (exigência da função <font face = "Courier New">ccf</font>).</p>
		<p>&bull; <font face = "Courier New">verificaTorre</font>: função que utiliza todas as funções internas de leitura, exibição e verificação para identificar, seguindo a metodologia definida, as medições suspeitas. Essa função exige como mínimo de dados de entrada a estação AMA a ser validada, o período de análise (idealmente uma quinzena), a localização da base SQLite e a tabela com todos os parâmetros das regressões quantílicas, tolerâncias e estações de comparação, e o DSN da base de dados AMA para que sejam lidas as medições das estações de análise e as de comparação. A função retorna uma sequência de mensagens informando as medições suspeitas, caso haja medição suspeita de erro.</p>
		<br>
		
		<h3>app.R</h3>
		<p>Arquivo com código R usando shiny que cria a interface de uso da ferramenta que verifica medições suspeitas em todos os instrumentos de uma estação AMA.<br>Consulte <a href="index_uso.html">Detalhes e explicações de utilização para usuarios</a> para mais informações sobre a interface.</p>
	</div>
	<br>
	<h2>DSN do AMA corporativo</h2>
	<div class="boxed">
		<h3>Configuração</h3>
		<p>&bull; No windows, abra o Administrador de fontes de dados ODBC (ODBC Data Sources (64-bits)), clique em "Adicionar" e siga as intruções das imagens abaixo:</p><br>
		<img src = "../imagens/ODBC-DSN-AMA1.png"/><br>
		<img src = "../imagens/ODBC-DSN-AMA2a.png"/><br>
		<img src = "../imagens/ODBC-DSN-AMA2.png"/><br>
		<img src = "../imagens/ODBC-DSN-AMA3.png"/><br>
		<img src = "../imagens/ODBC-DSN-AMA4.png"/><br>
		<img src = "../imagens/ODBC-DSN-AMA5.png"/>
	</div>
	<br>
</body>
</html>